"""Unit tests for mr_cisco.py."""

import unittest
import pytest

from photon.backend.cisco import tech_support_show
from photon.lib import test_utils
from photon.tools.connectivity import mr_cisco

# pylint: disable=line-too-long


@pytest.fixture(scope="module")
def support_show_parser():
    """Return a switch object fixture."""
    logfile = test_utils.get_files_of_type('cisco_test_log')[0]
    return tech_support_show.SupportShowParser(logfile)


@pytest.fixture(scope="module")
def flogi_database_dict(support_show_parser):
    """Return a flogi_dict fixture."""
    return support_show_parser.get_flogi_dict()


@pytest.fixture(scope="module")
def interface_dict(support_show_parser):
    """Return an interface dict fixture."""
    return support_show_parser.get_interface_dict()


def test__ordered_interface_dict(interface_dict):
    assert list(mr_cisco._ordered_interface_dict(interface_dict).values())[0]['interface_name'] == 'Ethernet1/1'
    assert list(mr_cisco._ordered_interface_dict(interface_dict).values())[32]['interface_name'] == 'fc1/28'
    assert list(mr_cisco._ordered_interface_dict(interface_dict).values())[-1]['interface_name'] == 'sup-fc0'


def test_verbose_fc_tables(interface_dict):
    """Test verbose output for build_fc_tables."""
    expected = [
        ['name', 'port_wwpn', 'connected_wwpns', 'speed', 'state', 'fcid', 'last cleared', 'rx_disc', 'rx_ols', 'rx_crc', 'rx_loop', 'rx_lrr', 'rx_nos', 'rx_b2b_rem', 'tx_b2b_rem', 'tx_disc', 'tx_err', 'tx_loop', 'tx_lrr', 'tx_nos', 'tx_ols'],
        ['fc1/1', '20:01:00:0d:ec:3c:06:00', '-', '-', 'down', '-', '30w 6d', '0', '0', '0', '0', '0', '0', '-', '-', '0', '0', '0', '0', '0', '0'],
        ['fc1/2', '20:02:00:0d:ec:3c:06:00', '10:00:00:00:c9:fc:15:c6', '8 Gbps', 'up', '0x320300', '30w 6d', '0', '36', '0', '0', '36', '3', '32', '40', '265', '0', '0', '6', '70', '44'],
        ['fc1/3', '20:03:00:0d:ec:3c:06:00', '21:00:00:24:ff:53:02:51', '4 Gbps', 'up', '0x3202c0', '30w 6d', '0', '1', '0', '0', '1', '0', '32', '5', '113', '0', '0', '0', '1', '2'],
        ['fc1/4', '20:04:00:0d:ec:3c:06:00', '21:00:00:24:ff:53:02:05', '8 Gbps', 'up', '0x320280', '30w 6d', '0', '3', '0', '0', '1', '0', '32', '5', '108', '0', '0', '2', '3', '4'],
        ['fc1/5', '20:05:00:0d:ec:3c:06:00', '21:00:00:24:ff:53:01:dd', '4 Gbps', 'up', '0x320220', '30w 6d', '0', '0', '0', '0', '0', '0', '32', '5', '101', '0', '0', '0', '0', '0'],
        ['fc1/6', '20:06:00:0d:ec:3c:06:00', '52:4a:93:77:59:62:b2:02', '8 Gbps', 'up', '0x320202', '30w 6d', '0', '2', '0', '0', '2', '0', '25', '6', '1155', '0', '0', '0', '4', '2'],
        ['fc1/7', '20:07:00:0d:ec:3c:06:00', '52:4a:93:77:59:62:b2:00', '8 Gbps', 'up', '0x3201a2', '30w 6d', '0', '5', '0', '0', '2', '0', '32', '6', '1278', '0', '0', '3', '7', '5'],
        ['fc1/8', '20:08:00:0d:ec:3c:06:00', '10:00:00:00:c9:fc:13:3a', '8 Gbps', 'up', '0x320320', '30w 6d', '0', '50', '0', '0', '50', '1', '32', '40', '3270', '0', '0', '2', '97', '55'],
        ['fc1/9', '20:09:00:0d:ec:3c:06:00', '10:00:00:00:c9:71:73:3e', '4 Gbps', 'up', '0x320060', '30w 6d', '0', '0', '0', '0', '0', '0', '32', '16', '96', '0', '0', '0', '0', '0'],
        ['fc1/10', '20:0a:00:0d:ec:3c:06:00', '-', '-', 'down', '-', '30w 6d', '0', '0', '0', '0', '0', '0', '-', '-', '0', '0', '0', '0', '0', '0'],
        ['fc1/11', '20:0b:00:0d:ec:3c:06:00', '-', '-', 'down', '-', '30w 6d', '0', '0', '0', '0', '0', '0', '-', '-', '0', '0', '0', '0', '0', '0'],
        ['fc1/12', '20:0c:00:0d:ec:3c:06:00', '-', '-', 'down', '-', '30w 6d', '0', '0', '0', '0', '0', '0', '-', '-', '42', '0', '0', '0', '1', '0'],
        ['fc1/13', '20:0d:00:0d:ec:3c:06:00', '-', '-', 'down', '-', '30w 6d', '0', '0', '0', '0', '0', '0', '-', '-', '0', '0', '0', '0', '0', '0'],
        ['fc1/14', '20:0e:00:0d:ec:3c:06:00', '-', '8 Gbps', 'up', '-', '30w 6d', '0', '0', '0', '0', '0', '0', '32', '16', '35', '0', '0', '0', '0', '0'],
        ['fc1/15', '20:0f:00:0d:ec:3c:06:00', '-', '8 Gbps', 'up', '-', '30w 6d', '0', '0', '0', '0', '0', '0', '32', '16', '41', '0', '0', '0', '0', '0'],
        ['fc1/16', '20:10:00:0d:ec:3c:06:00', '-', '-', 'down', '-', '30w 6d', '0', '0', '0', '0', '0', '0', '-', '-', '0', '0', '0', '0', '0', '0'],
        ['fc1/17', '20:11:00:0d:ec:3c:06:00', '-', '-', 'down', '-', '30w 6d', '0', '0', '0', '0', '0', '0', '-', '-', '38', '0', '0', '0', '1', '0'],
        ['fc1/18', '20:12:00:0d:ec:3c:06:00', '10:00:00:90:fa:1b:32:38', '8 Gbps', 'up', '0x3202a0', '30w 6d', '0', '1', '0', '0', '1', '0', '32', '32', '168', '0', '0', '0', '2', '1'],
        ['fc1/19', '20:13:00:0d:ec:3c:06:00', '-', '-', 'down', '-', '30w 6d', '0', '0', '0', '0', '0', '0', '-', '-', '0', '0', '0', '0', '0', '0'],
        ['fc1/20', '20:14:00:0d:ec:3c:06:00', '10:00:00:90:fa:1b:2f:60', '8 Gbps', 'up', '0x320040', '30w 6d', '0', '1', '0', '0', '1', '0', '32', '40', '154', '0', '0', '0', '2', '1'],
        ['fc1/21', '20:15:00:0d:ec:3c:06:00', '10:00:00:90:fa:1b:33:60', '8 Gbps', 'up', '0x320241', '30w 6d', '0', '2', '0', '0', '2', '0', '32', '40', '268', '0', '0', '0', '4', '2'],
        ['fc1/22', '20:16:00:0d:ec:3c:06:00', '10:00:00:00:c9:8f:91:a8', '8 Gbps', 'up', '0x320141', '30w 6d', '0', '4', '0', '0', '4', '0', '32', '40', '359', '0', '0', '0', '6', '6'],
        ['fc1/23', '20:17:00:0d:ec:3c:06:00', '10:00:00:00:c9:c0:c0:34', '4 Gbps', 'up', '0x320260', '30w 6d', '0', '0', '0', '0', '0', '0', '32', '16', '203', '0', '0', '0', '0', '0'],
        ['fc1/24', '20:18:00:0d:ec:3c:06:00', '-', '-', 'down', '-', '30w 6d', '0', '0', '0', '0', '0', '0', '-', '-', '0', '0', '0', '0', '0', '0'],
        ['fc1/25', '20:19:00:0d:ec:3c:06:00', '-', '-', 'down', '-', '30w 6d', '0', '0', '0', '0', '0', '0', '-', '-', '0', '0', '0', '0', '0', '0'],
        ['fc1/26', '20:1a:00:0d:ec:3c:06:00', '-', '-', 'down', '-', '30w 6d', '0', '0', '0', '0', '0', '0', '-', '-', '0', '0', '0', '0', '0', '0'],
        ['fc1/27', '20:1b:00:0d:ec:3c:06:00', '10:00:00:90:fa:1b:31:ba', '8 Gbps', 'up', '0x320000', '30w 6d', '0', '1', '0', '0', '1', '0', '32', '40', '108', '0', '0', '0', '2', '1'],
        ['fc1/28', '20:1c:00:0d:ec:3c:06:00', '10:00:00:90:fa:1b:32:1c', '8 Gbps', 'up', '0x320180', '30w 6d', '0', '1', '0', '0', '1', '1', '32', '40', '179', '0', '0', '2', '2', '3'],
        ['fc1/29', '20:1d:00:0d:ec:3c:06:00', '-', '-', 'down', '-', '30w 6d', '0', '0', '0', '0', '0', '1', '-', '-', '48', '0', '0', '0', '0', '1'],
        ['fc1/30', '20:1e:00:0d:ec:3c:06:00', '52:4a:93:77:59:62:b2:10', '8 Gbps', 'up', '0x320701', '30w 6d', '0', '6', '0', '0', '2', '0', '32', '6', '1191', '0', '0', '4', '8', '6'],
        ['fc1/31', '20:1f:00:0d:ec:3c:06:00', '-', '-', 'down', '-', '30w 6d', '0', '0', '0', '0', '0', '0', '-', '-', '0', '0', '0', '0', '0', '0'],
        ['fc1/32', '20:20:00:0d:ec:3c:06:00', '-', '8 Gbps', 'up', '-', '30w 6d', '0', '0', '0', '0', '0', '0', '32', '16', '25', '0', '0', '0', '0', '0'],
        ['fc1/33', '20:21:00:0d:ec:3c:06:00', '-', '8 Gbps', 'up', '-', '30w 6d', '0', '0', '0', '0', '0', '0', '32', '16', '28654', '0', '0', '0', '0', '0'],
        ['fc1/34', '20:22:00:0d:ec:3c:06:00', '-', '-', 'down', '-', '30w 6d', '0', '0', '0', '0', '0', '0', '-', '-', '0', '0', '0', '0', '0', '0'],
        ['fc1/35', '20:23:00:0d:ec:3c:06:00', '10:00:00:90:fa:6f:4b:11', '8 Gbps', 'up', '0x3203a0', '30w 6d', '0', '10', '0', '0', '10', '0', '32', '40', '116', '0', '0', '0', '19', '11'],
        ['fc1/36', '20:24:00:0d:ec:3c:06:00', '52:4a:93:77:59:62:b2:12', '8 Gbps', 'up', '0x320721', '30w 6d', '0', '5', '0', '0', '2', '0', '32', '6', '1220', '0', '0', '3', '7', '5'],
        ['fc1/37', '20:25:00:0d:ec:3c:06:00', '-', '-', 'down', '-', '30w 6d', '0', '0', '0', '0', '0', '0', '-', '-', '0', '0', '0', '0', '0', '0'],
        ['fc1/38', '20:26:00:0d:ec:3c:06:00', '-', '-', 'down', '-', '30w 6d', '0', '0', '0', '0', '0', '0', '-', '-', '0', '0', '0', '0', '0', '0'],
        ['fc1/39', '20:27:00:0d:ec:3c:06:00', '-', '-', 'down', '-', '30w 6d', '0', '0', '0', '0', '0', '0', '-', '-', '0', '0', '0', '0', '0', '0'],
        ['fc1/40', '20:28:00:0d:ec:3c:06:00', '-', '-', 'down', '-', '30w 6d', '0', '0', '0', '0', '0', '0', '-', '-', '0', '0', '0', '0', '0', '0'],
        ['fc1/41', '20:29:00:0d:ec:3c:06:00', '-', '-', 'down', '-', '30w 6d', '0', '0', '0', '0', '0', '0', '-', '-', '0', '0', '0', '0', '0', '0'],
        ['fc1/42', '20:2a:00:0d:ec:3c:06:00', '-', '-', 'down', '-', '30w 6d', '0', '0', '0', '0', '0', '0', '-', '-', '0', '0', '0', '0', '0', '0'],
        ['fc1/43', '20:2b:00:0d:ec:3c:06:00', '-', '-', 'down', '-', '30w 6d', '0', '0', '0', '0', '0', '0', '-', '-', '0', '0', '0', '0', '0', '0'],
        ['fc1/44', '20:2c:00:0d:ec:3c:06:00', '-', '-', 'down', '-', '30w 6d', '0', '0', '0', '0', '0', '0', '-', '-', '0', '0', '0', '0', '0', '0'],
        ['fc1/45', '20:2d:00:0d:ec:3c:06:00', '-', '-', 'down', '-', '30w 6d', '0', '0', '0', '0', '0', '0', '-', '-', '0', '0', '0', '0', '0', '0'],
        ['fc1/46', '20:2e:00:0d:ec:3c:06:00', '-', '-', 'down', '-', '30w 6d', '0', '0', '0', '0', '0', '0', '-', '-', '0', '0', '0', '0', '0', '0'],
        ['fc1/47', '20:2f:00:0d:ec:3c:06:00', '-', '-', 'down', '-', '30w 6d', '0', '0', '0', '0', '0', '0', '-', '-', '0', '0', '0', '0', '0', '0'],
        ['fc1/48', '20:30:00:0d:ec:3c:06:00', '-', '-', 'down', '-', '30w 6d', '0', '0', '0', '0', '0', '0', '-', '-', '0', '0', '0', '0', '0', '0'],
        ['fc2/1', '20:41:00:0d:ec:3c:06:00', '21:01:00:1b:32:b4:a1:60', '4 Gbps', 'up', '0x321300', '30w 6d', '0', '1', '0', '0', '0', '0', '32', '3', '143', '0', '0', '2', '1', '3'],
        ['fc2/2', '20:42:00:0d:ec:3c:06:00', '-', '-', 'down', '-', '30w 6d', '0', '0', '0', '0', '0', '0', '-', '-', '7', '0', '0', '2', '3', '2'],
        ['fc2/3', '20:43:00:0d:ec:3c:06:00', '21:01:00:1b:32:3a:f0:a2', '4 Gbps', 'up', '0x321400', '30w 6d', '0', '18', '0', '0', '1', '3', '32', '3', '220', '0', '0', '23', '21', '28'],
        ['fc2/4', '20:44:00:0d:ec:3c:06:00', '21:00:00:e0:8b:19:ab:cd', '2 Gbps', 'up', '0x321100', '30w 6d', '0', '0', '0', '0', '0', '0', '32', '3', '93', '0', '0', '0', '0', '0'],
        ['fc2/5', '20:45:00:0d:ec:3c:06:00', '21:00:00:e0:8b:92:ce:84', '4 Gbps', 'up', '0x321800', '30w 6d', '0', '11', '0', '0', '0', '0', '32', '3', '103', '0', '0', '15', '254', '493'],
        ['fc2/6', '20:46:00:0d:ec:3c:06:00', '21:00:00:1b:32:06:76:f0', '4 Gbps', 'up', '0x321a00', '30w 6d', '0', '0', '0', '0', '0', '0', '32', '3', '164', '0', '0', '0', '0', '0'],
        ['fc2/7', '20:47:00:0d:ec:3c:06:00', '21:01:00:1b:32:ab:ba:b4', '4 Gbps', 'up', '0x321b00', '30w 6d', '0', '0', '0', '0', '0', '0', '32', '3', '164', '0', '0', '0', '0', '0'],
        ['fc2/8', '20:48:00:0d:ec:3c:06:00', '21:01:00:e0:8b:b2:67:8e', '4 Gbps', 'up', '0x321500', '30w 6d', '0', '0', '0', '0', '0', '0', '32', '3', '141', '0', '0', '1', '0', '2'],
        ['fc2/9', '20:49:00:0d:ec:3c:06:00', '21:01:00:e0:8b:b2:51:93', '4 Gbps', 'up', '0x321700', '30w 6d', '0', '15', '0', '0', '2', '3', '32', '3', '216', '0', '0', '17', '16', '24'],
        ['fc2/10', '20:4a:00:0d:ec:3c:06:00', '21:01:00:e0:8b:ba:20:4a', '4 Gbps', 'up', '0x321600', '30w 6d', '0', '12', '0', '0', '0', '3', '32', '3', '206', '0', '0', '17', '13', '21'],
        ['fc2/11', '20:4b:00:0d:ec:3c:06:00', '21:00:00:e0:8b:94:ff:15', '2 Gbps', 'up', '0x320e00', '30w 6d', '0', '5', '0', '0', '5', '8', '32', '3', '191', '0', '0', '13', '5', '11'],
        ['fc2/12', '20:4c:00:0d:ec:3c:06:00', '21:01:00:e0:8b:b2:9d:8e', '4 Gbps', 'up', '0x321200', '30w 6d', '0', '0', '0', '0', '0', '0', '32', '3', '143', '0', '0', '1', '0', '2'],
        ['fc2/13', '20:4d:00:0d:ec:3c:06:00', '-', '-', 'down', '-', '30w 6d', '0', '0', '0', '0', '0', '0', '-', '-', '0', '0', '0', '0', '0', '0'],
        ['fc2/14', '20:4e:00:0d:ec:3c:06:00', '-', '-', 'down', '-', '30w 6d', '0', '0', '0', '0', '0', '0', '-', '-', '0', '0', '0', '0', '0', '0'],
        ['fc2/15', '20:4f:00:0d:ec:3c:06:00', '-', '-', 'down', '-', '30w 6d', '0', '0', '0', '0', '0', '0', '-', '-', '0', '0', '0', '0', '0', '0'],
        ['fc2/16', '20:50:00:0d:ec:3c:06:00', '-', '-', 'down', '-', '30w 6d', '0', '0', '0', '0', '0', '0', '-', '-', '0', '0', '0', '0', '0', '0'],
        ['fc2/17', '20:51:00:0d:ec:3c:06:00', '-', '-', 'down', '-', '30w 6d', '0', '0', '0', '0', '0', '0', '-', '-', '0', '0', '0', '0', '1', '0'],
        ['fc2/18', '20:52:00:0d:ec:3c:06:00', '-', '-', 'down', '-', '30w 6d', '0', '0', '0', '0', '0', '0', '-', '-', '0', '0', '0', '0', '0', '0'],
        ['fc2/19', '20:53:00:0d:ec:3c:06:00', '-', '-', 'down', '-', '30w 6d', '0', '0', '0', '0', '0', '0', '-', '-', '0', '0', '0', '0', '0', '0'],
        ['fc2/20', '20:54:00:0d:ec:3c:06:00', '-', '-', 'down', '-', '30w 6d', '0', '0', '0', '0', '0', '0', '-', '-', '0', '0', '0', '0', '0', '0'],
        ['fc2/21', '20:55:00:0d:ec:3c:06:00', '-', '-', 'down', '-', '30w 6d', '0', '0', '0', '0', '0', '0', '-', '-', '0', '0', '0', '0', '0', '0'],
        ['fc2/22', '20:56:00:0d:ec:3c:06:00', '-', '-', 'down', '-', '30w 6d', '0', '0', '0', '0', '0', '0', '-', '-', '0', '0', '0', '0', '0', '0'],
        ['fc2/23', '20:57:00:0d:ec:3c:06:00', '-', '-', 'down', '-', '30w 6d', '0', '0', '0', '0', '0', '0', '-', '-', '0', '0', '0', '0', '0', '0'],
        ['fc2/24', '20:58:00:0d:ec:3c:06:00', '-', '-', 'down', '-', '30w 6d', '0', '0', '0', '0', '0', '0', '-', '-', '0', '0', '0', '0', '0', '0'],
        ['fc2/25', '20:59:00:0d:ec:3c:06:00', '-', '-', 'down', '-', '30w 6d', '0', '0', '0', '0', '0', '0', '-', '-', '0', '0', '0', '0', '0', '0'],
        ['fc2/26', '20:5a:00:0d:ec:3c:06:00', '-', '-', 'down', '-', '30w 6d', '0', '0', '0', '0', '0', '0', '-', '-', '0', '0', '0', '0', '0', '0'],
        ['fc2/27', '20:5b:00:0d:ec:3c:06:00', '-', '-', 'down', '-', '30w 6d', '0', '0', '0', '0', '0', '0', '-', '-', '0', '0', '0', '0', '0', '0'],
        ['fc2/28', '20:5c:00:0d:ec:3c:06:00', '-', '-', 'down', '-', '30w 6d', '0', '0', '0', '0', '0', '0', '-', '-', '0', '0', '0', '0', '0', '0'],
        ['fc2/29', '20:5d:00:0d:ec:3c:06:00', '-', '-', 'down', '-', '30w 6d', '0', '0', '0', '0', '0', '0', '-', '-', '0', '0', '0', '0', '0', '0'],
        ['fc2/30', '20:5e:00:0d:ec:3c:06:00', '-', '-', 'down', '-', '30w 6d', '0', '0', '0', '0', '0', '0', '-', '-', '0', '0', '0', '0', '0', '0'],
        ['fc2/31', '20:5f:00:0d:ec:3c:06:00', '-', '-', 'down', '-', '30w 6d', '0', '0', '0', '0', '0', '0', '-', '-', '0', '0', '0', '0', '0', '0'],
        ['fc2/32', '20:60:00:0d:ec:3c:06:00', '-', '-', 'down', '-', '30w 6d', '0', '0', '0', '0', '0', '0', '-', '-', '0', '0', '0', '0', '0', '0'],
        ['fc2/33', '20:61:00:0d:ec:3c:06:00', '-', '-', 'down', '-', '30w 6d', '0', '0', '0', '0', '0', '0', '-', '-', '0', '0', '0', '0', '0', '0'],
        ['fc2/34', '20:62:00:0d:ec:3c:06:00', '-', '-', 'down', '-', '30w 6d', '0', '0', '0', '0', '0', '0', '-', '-', '0', '0', '0', '0', '0', '0'],
        ['fc2/35', '20:63:00:0d:ec:3c:06:00', '-', '-', 'down', '-', '30w 6d', '0', '0', '0', '0', '0', '0', '-', '-', '0', '0', '0', '0', '0', '0'],
        ['fc2/36', '20:64:00:0d:ec:3c:06:00', '-', '-', 'down', '-', '30w 6d', '0', '0', '0', '0', '0', '0', '-', '-', '0', '0', '0', '0', '0', '0'],
        ['fc2/37', '20:65:00:0d:ec:3c:06:00', '-', '-', 'down', '-', '30w 6d', '0', '0', '0', '0', '0', '1', '-', '-', '153', '0', '0', '0', '0', '1'],
        ['fc2/38', '20:66:00:0d:ec:3c:06:00', '-', '-', 'down', '-', '30w 6d', '0', '0', '0', '0', '0', '1', '-', '-', '137', '0', '0', '0', '0', '1'],
        ['fc2/39', '20:67:00:0d:ec:3c:06:00', '-', '-', 'down', '-', '30w 6d', '0', '0', '0', '0', '0', '0', '-', '-', '0', '0', '0', '0', '0', '0'],
        ['fc2/40', '20:68:00:0d:ec:3c:06:00', '-', '-', 'down', '-', '30w 6d', '0', '0', '0', '0', '0', '0', '-', '-', '0', '0', '0', '0', '0', '0'],
        ['fc2/41', '20:69:00:0d:ec:3c:06:00', '-', '-', 'down', '-', '30w 6d', '0', '0', '0', '0', '0', '0', '-', '-', '0', '0', '0', '0', '0', '0'],
        ['fc2/42', '20:6a:00:0d:ec:3c:06:00', '-', '-', 'down', '-', '30w 6d', '0', '0', '0', '0', '0', '0', '-', '-', '0', '0', '0', '0', '0', '0'],
        ['fc2/43', '20:6b:00:0d:ec:3c:06:00', '-', '-', 'down', '-', '30w 6d', '0', '0', '0', '0', '0', '1', '-', '-', '98', '0', '0', '0', '0', '1'],
        ['fc2/44', '20:6c:00:0d:ec:3c:06:00', '-', '-', 'down', '-', '30w 6d', '0', '1', '0', '0', '1', '3', '-', '-', '63', '0', '0', '0', '3', '3'],
        ['fc2/45', '20:6d:00:0d:ec:3c:06:00', '-', '-', 'down', '-', '30w 6d', '0', '0', '0', '0', '0', '0', '-', '-', '0', '0', '0', '0', '0', '0'],
        ['fc2/46', '20:6e:00:0d:ec:3c:06:00', '-', '-', 'down', '-', '30w 6d', '0', '0', '0', '0', '0', '3', '-', '-', '78', '0', '0', '0', '3', '2'],
        ['fc2/47', '20:6f:00:0d:ec:3c:06:00', '-', '-', 'down', '-', '30w 6d', '0', '0', '0', '0', '0', '0', '-', '-', '0', '0', '0', '0', '0', '0'],
        ['fc2/48', '20:70:00:0d:ec:3c:06:00', '-', '-', 'down', '-', '30w 6d', '0', '0', '0', '0', '0', '0', '-', '-', '0', '0', '0', '0', '0', '0'],
        ['port-channel1', '24:01:00:0d:ec:3c:06:00', '20:01:00:25:b5:a0:a1:2f', '32 Gbps', 'up', '-', '-', '0', '0', '0', '0', '0', '0', '-', '-', '28755', '0', '0', '0', '0', '0'],
        ['', '', '20:01:00:25:b5:a0:a1:3f', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', ''],
        ['', '', '20:01:00:25:b5:a0:a1:0f', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', ''],
        ['', '', '20:01:00:25:b5:a0:a1:1f', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', ''],
        ['', '', '20:01:00:25:b5:a0:a1:2e', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', ''],
        ['', '', '20:01:00:25:b5:a0:a1:3e', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', ''],
        ['', '', '20:01:00:25:b5:a0:a1:1e', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', ''],
        ['', '', '20:01:00:25:b5:a0:a1:0e', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', ''],
        ['', '', '24:01:00:05:73:d2:59:c0', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', ''],
        ['sup-fc0', '-', '-', '1 Gbps', 'up', '-', '-', '-', '-', '-', '-', '-', '-', '-', '-', '-', '-', '-', '-', '-', '-']
    ]
    result = mr_cisco.build_fc_tables(interface_dict, True)
    assert expected == result

def test_non_verbose_fc_tables(interface_dict):
    """Test simple output for build_fc_tables."""
    expected = [
        ['name', 'port_wwpn', 'connected_wwpns', 'speed', 'state', 'fcid', 'last cleared', 'rx_disc', 'rx_ols', 'rx_crc', 'rx_loop', 'rx_lrr', 'rx_nos', 'rx_b2b_rem', 'tx_b2b_rem', 'tx_disc', 'tx_err', 'tx_loop', 'tx_lrr', 'tx_nos', 'tx_ols'],
        ['fc1/2', '20:02:00:0d:ec:3c:06:00', '10:00:00:00:c9:fc:15:c6', '8 Gbps', 'up', '0x320300', '30w 6d', '0', '36', '0', '0', '36', '3', '32', '40', '265', '0', '0', '6', '70', '44'],
        ['fc1/3', '20:03:00:0d:ec:3c:06:00', '21:00:00:24:ff:53:02:51', '4 Gbps', 'up', '0x3202c0', '30w 6d', '0', '1', '0', '0', '1', '0', '32', '5', '113', '0', '0', '0', '1', '2'],
        ['fc1/4', '20:04:00:0d:ec:3c:06:00', '21:00:00:24:ff:53:02:05', '8 Gbps', 'up', '0x320280', '30w 6d', '0', '3', '0', '0', '1', '0', '32', '5', '108', '0', '0', '2', '3', '4'],
        ['fc1/5', '20:05:00:0d:ec:3c:06:00', '21:00:00:24:ff:53:01:dd', '4 Gbps', 'up', '0x320220', '30w 6d', '0', '0', '0', '0', '0', '0', '32', '5', '101', '0', '0', '0', '0', '0'],
        ['fc1/6', '20:06:00:0d:ec:3c:06:00', '52:4a:93:77:59:62:b2:02', '8 Gbps', 'up', '0x320202', '30w 6d', '0', '2', '0', '0', '2', '0', '25', '6', '1155', '0', '0', '0', '4', '2'],
        ['fc1/7', '20:07:00:0d:ec:3c:06:00', '52:4a:93:77:59:62:b2:00', '8 Gbps', 'up', '0x3201a2', '30w 6d', '0', '5', '0', '0', '2', '0', '32', '6', '1278', '0', '0', '3', '7', '5'],
        ['fc1/8', '20:08:00:0d:ec:3c:06:00', '10:00:00:00:c9:fc:13:3a', '8 Gbps', 'up', '0x320320', '30w 6d', '0', '50', '0', '0', '50', '1', '32', '40', '3270', '0', '0', '2', '97', '55'],
        ['fc1/9', '20:09:00:0d:ec:3c:06:00', '10:00:00:00:c9:71:73:3e', '4 Gbps', 'up', '0x320060', '30w 6d', '0', '0', '0', '0', '0', '0', '32', '16', '96', '0', '0', '0', '0', '0'],
        ['fc1/14', '20:0e:00:0d:ec:3c:06:00', '-', '8 Gbps', 'up', '-', '30w 6d', '0', '0', '0', '0', '0', '0', '32', '16', '35', '0', '0', '0', '0', '0'],
        ['fc1/15', '20:0f:00:0d:ec:3c:06:00', '-', '8 Gbps', 'up', '-', '30w 6d', '0', '0', '0', '0', '0', '0', '32', '16', '41', '0', '0', '0', '0', '0'],
        ['fc1/18', '20:12:00:0d:ec:3c:06:00', '10:00:00:90:fa:1b:32:38', '8 Gbps', 'up', '0x3202a0', '30w 6d', '0', '1', '0', '0', '1', '0', '32', '32', '168', '0', '0', '0', '2', '1'],
        ['fc1/20', '20:14:00:0d:ec:3c:06:00', '10:00:00:90:fa:1b:2f:60', '8 Gbps', 'up', '0x320040', '30w 6d', '0', '1', '0', '0', '1', '0', '32', '40', '154', '0', '0', '0', '2', '1'],
        ['fc1/21', '20:15:00:0d:ec:3c:06:00', '10:00:00:90:fa:1b:33:60', '8 Gbps', 'up', '0x320241', '30w 6d', '0', '2', '0', '0', '2', '0', '32', '40', '268', '0', '0', '0', '4', '2'],
        ['fc1/22', '20:16:00:0d:ec:3c:06:00', '10:00:00:00:c9:8f:91:a8', '8 Gbps', 'up', '0x320141', '30w 6d', '0', '4', '0', '0', '4', '0', '32', '40', '359', '0', '0', '0', '6', '6'],
        ['fc1/23', '20:17:00:0d:ec:3c:06:00', '10:00:00:00:c9:c0:c0:34', '4 Gbps', 'up', '0x320260', '30w 6d', '0', '0', '0', '0', '0', '0', '32', '16', '203', '0', '0', '0', '0', '0'],
        ['fc1/27', '20:1b:00:0d:ec:3c:06:00', '10:00:00:90:fa:1b:31:ba', '8 Gbps', 'up', '0x320000', '30w 6d', '0', '1', '0', '0', '1', '0', '32', '40', '108', '0', '0', '0', '2', '1'],
        ['fc1/28', '20:1c:00:0d:ec:3c:06:00', '10:00:00:90:fa:1b:32:1c', '8 Gbps', 'up', '0x320180', '30w 6d', '0', '1', '0', '0', '1', '1', '32', '40', '179', '0', '0', '2', '2', '3'],
        ['fc1/30', '20:1e:00:0d:ec:3c:06:00', '52:4a:93:77:59:62:b2:10', '8 Gbps', 'up', '0x320701', '30w 6d', '0', '6', '0', '0', '2', '0', '32', '6', '1191', '0', '0', '4', '8', '6'],
        ['fc1/32', '20:20:00:0d:ec:3c:06:00', '-', '8 Gbps', 'up', '-', '30w 6d', '0', '0', '0', '0', '0', '0', '32', '16', '25', '0', '0', '0', '0', '0'],
        ['fc1/33', '20:21:00:0d:ec:3c:06:00', '-', '8 Gbps', 'up', '-', '30w 6d', '0', '0', '0', '0', '0', '0', '32', '16', '28654', '0', '0', '0', '0', '0'],
        ['fc1/35', '20:23:00:0d:ec:3c:06:00', '10:00:00:90:fa:6f:4b:11', '8 Gbps', 'up', '0x3203a0', '30w 6d', '0', '10', '0', '0', '10', '0', '32', '40', '116', '0', '0', '0', '19', '11'],
        ['fc1/36', '20:24:00:0d:ec:3c:06:00', '52:4a:93:77:59:62:b2:12', '8 Gbps', 'up', '0x320721', '30w 6d', '0', '5', '0', '0', '2', '0', '32', '6', '1220', '0', '0', '3', '7', '5'],
        ['fc2/1', '20:41:00:0d:ec:3c:06:00', '21:01:00:1b:32:b4:a1:60', '4 Gbps', 'up', '0x321300', '30w 6d', '0', '1', '0', '0', '0', '0', '32', '3', '143', '0', '0', '2', '1', '3'],
        ['fc2/3', '20:43:00:0d:ec:3c:06:00', '21:01:00:1b:32:3a:f0:a2', '4 Gbps', 'up', '0x321400', '30w 6d', '0', '18', '0', '0', '1', '3', '32', '3', '220', '0', '0', '23', '21', '28'],
        ['fc2/4', '20:44:00:0d:ec:3c:06:00', '21:00:00:e0:8b:19:ab:cd', '2 Gbps', 'up', '0x321100', '30w 6d', '0', '0', '0', '0', '0', '0', '32', '3', '93', '0', '0', '0', '0', '0'],
        ['fc2/5', '20:45:00:0d:ec:3c:06:00', '21:00:00:e0:8b:92:ce:84', '4 Gbps', 'up', '0x321800', '30w 6d', '0', '11', '0', '0', '0', '0', '32', '3', '103', '0', '0', '15', '254', '493'],
        ['fc2/6', '20:46:00:0d:ec:3c:06:00', '21:00:00:1b:32:06:76:f0', '4 Gbps', 'up', '0x321a00', '30w 6d', '0', '0', '0', '0', '0', '0', '32', '3', '164', '0', '0', '0', '0', '0'],
        ['fc2/7', '20:47:00:0d:ec:3c:06:00', '21:01:00:1b:32:ab:ba:b4', '4 Gbps', 'up', '0x321b00', '30w 6d', '0', '0', '0', '0', '0', '0', '32', '3', '164', '0', '0', '0', '0', '0'],
        ['fc2/8', '20:48:00:0d:ec:3c:06:00', '21:01:00:e0:8b:b2:67:8e', '4 Gbps', 'up', '0x321500', '30w 6d', '0', '0', '0', '0', '0', '0', '32', '3', '141', '0', '0', '1', '0', '2'],
        ['fc2/9', '20:49:00:0d:ec:3c:06:00', '21:01:00:e0:8b:b2:51:93', '4 Gbps', 'up', '0x321700', '30w 6d', '0', '15', '0', '0', '2', '3', '32', '3', '216', '0', '0', '17', '16', '24'],
        ['fc2/10', '20:4a:00:0d:ec:3c:06:00', '21:01:00:e0:8b:ba:20:4a', '4 Gbps', 'up', '0x321600', '30w 6d', '0', '12', '0', '0', '0', '3', '32', '3', '206', '0', '0', '17', '13', '21'],
        ['fc2/11', '20:4b:00:0d:ec:3c:06:00', '21:00:00:e0:8b:94:ff:15', '2 Gbps', 'up', '0x320e00', '30w 6d', '0', '5', '0', '0', '5', '8', '32', '3', '191', '0', '0', '13', '5', '11'],
        ['fc2/12', '20:4c:00:0d:ec:3c:06:00', '21:01:00:e0:8b:b2:9d:8e', '4 Gbps', 'up', '0x321200', '30w 6d', '0', '0', '0', '0', '0', '0', '32', '3', '143', '0', '0', '1', '0', '2'],
        ['port-channel1', '24:01:00:0d:ec:3c:06:00', '20:01:00:25:b5:a0:a1:2f', '32 Gbps', 'up', '-', '-', '0', '0', '0', '0', '0', '0', '-', '-', '28755', '0', '0', '0', '0', '0'],
        ['', '', '20:01:00:25:b5:a0:a1:3f', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', ''],
        ['', '', '20:01:00:25:b5:a0:a1:0f', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', ''],
        ['', '', '20:01:00:25:b5:a0:a1:1f', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', ''],
        ['', '', '20:01:00:25:b5:a0:a1:2e', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', ''],
        ['', '', '20:01:00:25:b5:a0:a1:3e', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', ''],
        ['', '', '20:01:00:25:b5:a0:a1:1e', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', ''],
        ['', '', '20:01:00:25:b5:a0:a1:0e', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', ''],
        ['', '', '24:01:00:05:73:d2:59:c0', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', ''],
        ['sup-fc0', '-', '-', '1 Gbps', 'up', '-', '-', '-', '-', '-', '-', '-', '-', '-', '-', '-', '-', '-', '-', '-', '-']
    ]
    result = mr_cisco.build_fc_tables(interface_dict, False)
    assert expected == result


def test_build_gigabit_eth_tables(interface_dict):
    """Test simple output for build_fc_tables."""
    expected = [
        ['name', 'state', 'mtu', 'rx_#', 'rx_err', 'rx_fifo', 'rx_over', 'tx_#', 'tx_err', 'tx_fifo', 'tx_under', 'tx_coll', 'tx_carr'],
        ['mgmt0', 'up', '1500 bytes', '72780644', '0', '0', '0', '7517904', '0', '0', '0', '0', '0']
    ]
    result = mr_cisco.build_gigabit_eth_tables(interface_dict)
    assert expected == result


def test_build_eth_tables(interface_dict):
    """Test simple output for build_fc_tables."""
    expected = [
        ['name', 'cleared', 'mtu', 'mode', 'auto', 'resets', 'rx_#', 'rx_disc', 'rx_crc', 'rx_err', 'tx_#', 'tx_coll', 'tx_err', 'tx_disc'],
        ['Ethernet1/1', 'never', '1500 bytes', 'access', 'turned on', '0', '0', '0', '0', '0', '0', '0', '0', '0'],
        ['Ethernet1/2', 'never', '1500 bytes', 'access', 'turned on', '0', '0', '0', '0', '0', '0', '0', '0', '0'],
        ['Ethernet1/3', 'never', '1500 bytes', 'access', 'turned on', '0', '0', '0', '0', '0', '0', '0', '0', '0'],
        ['Ethernet1/4', 'never', '1500 bytes', 'access', 'turned on', '0', '0', '0', '0', '0', '0', '0', '0', '0'],
        ['Ethernet1/5', 'never', '1500 bytes', 'access', 'turned on', '0', '0', '0', '0', '0', '0', '0', '0', '0']
    ]
    result = mr_cisco.build_eth_tables(interface_dict)
    assert expected == result


def test_build_switch_info(support_show_parser):
    """Test that build_switch_info returns correct data."""
    expected = [
        ['Switch Name:', 'MFXRFPEMC9513-A'],
        ['Switch Time:', '16:04:11.752 UTC Thu Jun 14 2018'],
        ['Switch uptime:', '688 day(s), 15 hour(s), 15 minute(s), 1 second(s)'],
        ['Switch BIOS:', '1.0.10'],
        ['Switch Version:', '6.2(3)'],
        ['Switch Hardware:', 'cisco MDS 9513 (13 Slot) Chassis ("Supervisor/Fabric-2a")']
    ]
    result = mr_cisco.build_switch_info(support_show_parser)
    assert expected == result
